#!/usr/bin/python3.7

from matplotlib import pyplot as plt

X = [
    '07:00', '08:00', '09:00', '10:00', '11:00', '12:00',
    '13:00', '14:00', '15:00', '16:00', '17:00', '18:00',
    '19:00', '20:00', '21:00', '22:00', '23:00', '24:00'
    ]

def plot_airly(type_of_pm, Y_pred, Y_real, filename):    
    max_y = max(Y_real + Y_pred)
    
    plt.rc('xtick',labelsize=6)
    plt.xlabel("Godzina") 
    plt.ylabel(u"${}\ [\u03bcg/m^3]$".format(type_of_pm)) 
    plt.margins(0,0)
    
    plt.plot(X, Y_pred, '-b', linewidth=2, label='Predykcja')
    plt.plot(X, Y_real, '-r', linewidth=2, label='Pomiar')
    plt.legend(loc='best')
    
    ax = plt.gca()
    ax.set_xticks(['07:00', '12:00', '13:00', '18:00', '19:00', '24:00'])
    ax.set_ylim(bottom=0, top=max_y+2)   

    plt.savefig(filename, bbox_inches='tight', dpi=300)
    plt.close()
    
def plot_purifier(type_of_pm, Y_linear, Y_nonlinear, Y_xgboost, Y_neural, Y_real, filename):    
    max_y = max(Y_linear + Y_nonlinear + Y_xgboost + Y_neural + Y_real)
    
    plt.rc('xtick',labelsize=6)
    plt.xlabel("Godzina") 
    plt.ylabel(u"${}\ [\u03bcg/m^3]$".format(type_of_pm)) 
    plt.margins(0,0)
    
    plt.plot(X, Y_linear, '-k', linewidth=2, label='Regresja liniowa')
    plt.plot(X, Y_nonlinear, color='yellow', linewidth=2, label='Algorytm nieliniowy')
    plt.plot(X, Y_xgboost, '-g', linewidth=2, label='Algorytm XGBoost')
    plt.plot(X, Y_neural, '-b', linewidth=2, label='Sieci neuronowe LSTM')
    
    plt.plot(X, Y_real, '-r', linewidth=2, label='Pomiar')
    plt.legend(loc='best')
    
    ax = plt.gca()
    ax.set_xticks(['07:00', '12:00', '13:00', '18:00', '19:00', '24:00'])
    ax.set_ylim(bottom=0, top=max_y+2)   

    plt.savefig(filename, bbox_inches='tight', dpi=300)
    plt.close()


if __name__ == '__main__':
    ### AIRLY ###
    
    # day 1
    Y_day1_pm25_pred_airly = [11.65, 10.8, 10.41, 9.08, 8.86, 8.44, 6.66, 5.85, 5.66, 5.01, 4.36, 4.25, 5.05, 6.89, 8.66, 10.89, 11.21, 10.94]
    Y_day1_pm10_pred_airly = [17.07, 16.07, 14.91, 13.5, 13.03, 12.26, 9.09, 8.33, 7.5, 6.68, 5.8, 5.38, 6.86, 9.51, 12.81, 15.83, 17.19, 16.49]
    
    Y_day1_pm25_real_airly = [14.39, 9.64, 6.58, 7.05, 6.86, 4.58, 6.35, 5.71, 5.35, 5.21, 5.19, 5.53, 7.44, 7.89, 8.4, 10.34, 11.47, 10.57]
    Y_day1_pm10_real_airly = [19.35, 12.7, 8.63, 9.16, 8.81, 5.94, 8.3, 7.43, 6.94, 6.77, 6.72, 7.16, 9.7, 10.32, 11.0, 13.62, 15.08, 13.99]

    # day 2
    Y_day2_pm25_pred_airly = [10.8, 10.57, 10.29, 9.55, 9.25, 9.55, 11.75, 10.91, 10.67, 10.23, 10.69, 11.04, 10.62, 11.76, 11.93, 12.53, 12.44, 11.68]
    Y_day2_pm10_pred_airly = [16.64, 16.03, 15.21, 14.19, 13.93, 13.96, 17.54, 16.3, 15.96, 15.58, 15.89, 16.11, 16.28, 17.21, 18.09, 18.74, 19.03, 18.02]
    
    Y_day2_pm25_real_airly = [14.53, 16.36, 17.28, 16.16, 16.2, 16.98, 12.42, 12.33, 12.94, 13.84, 14.59, 14.63, 13.66, 9.49, 11.14, 13.52, 15.0, 16.73]
    Y_day2_pm10_real_airly = [19.11, 21.4, 22.5, 21.03, 21.06, 21.99, 16.09, 15.84, 16.67, 18.06, 18.91, 19.44, 17.34, 12.47, 14.87, 17.96, 19.95, 22.44]
    
    # day 3
    Y_day3_pm25_pred_airly = [9.5, 8.74, 7.55, 6.31, 5.45, 4.6, 8.51, 7.9, 7.98, 7.48, 8.18, 8.74, 9.35, 10.19, 10.43, 11.18, 11.3, 10.91]
    Y_day3_pm10_pred_airly = [13.52, 12.61, 10.7, 8.66, 7.26, 6.36, 12.6, 11.9, 11.4, 11.19, 11.77, 12.72, 14.16, 15.2, 15.87, 16.27, 16.31, 16.06]
    
    Y_day3_pm25_real_airly = [11.72, 8.76, 10.06, 13.64, 14.61, 15.06, 15.62, 14.26, 11.71, 11.44, 12.5, 12.88, 12.4, 14.68, 6.86, 6.21, 6.51, 8.44]
    Y_day3_pm10_real_airly = [15.24, 11.4, 13.03, 17.8, 19.05, 19.58, 20.23, 18.52, 15.14, 14.73, 16.14, 16.54, 15.98, 19.0, 9.19, 8.37, 8.69, 11.33]
    
    #plot_airly('PM_{2,5}', Y_day1_pm25_pred_airly, Y_day1_pm25_real_airly, 'day1_airly_pm25.png')
    #plot_airly('PM_{10}', Y_day1_pm10_pred_airly, Y_day1_pm10_real_airly, 'day1_airly_pm10.png')
    
    #plot_airly('PM_{2,5}', Y_day2_pm25_pred_airly, Y_day2_pm25_real_airly, 'day2_airly_pm25.png')
    #plot_airly('PM_{10}', Y_day2_pm10_pred_airly, Y_day2_pm10_real_airly, 'day2_airly_pm10.png')
    
    plot_airly('PM_{2,5}', Y_day3_pm25_pred_airly, Y_day3_pm25_real_airly, 'day3_airly_pm25.png')
    plot_airly('PM_{10}', Y_day3_pm10_pred_airly, Y_day3_pm10_real_airly, 'day3_airly_pm10.png')
    
    
    ### PURIFIER ###
    
    # day 1
    Y_day1_pm25_pred_linear = [7.07738002, 6.93705354, 6.79672706, 6.65640058, 6.5160741, 6.37574762, 6.23542114, 6.09509466, 5.95476817, 5.81444169, 5.6741152, 5.53378872, 5.37517152, 5.2346255, 5.09407947, 4.95353345, 4.81298743, 4.67244141]
    Y_day1_pm10_pred_linear = [10.46180272, 10.32512942, 10.18845612, 10.05178282, 9.91510952, 9.77843622, 9.64176292, 9.50508962, 9.36841631, 9.23174301, 9.09506971, 8.9583964, 8.7981636, 8.66152446, 8.52488532, 8.38824618, 8.25160704, 8.1149679]
    
    # random forest
    Y_day1_pm25_pred_nonlinear = [5.128, 6.20537778, 4.6172, 9.0108, 2.3136, 2.7896, 1.74528857, 5.06964, 2.0076, 2.4944, 4.37346667, 4.6362, 5.58993333, 1.88886667, 4.4796, 2.57822667, 5.61746667, 2.96672397]
    Y_day1_pm10_pred_nonlinear = [8.0448, 9.47766667, 9.6712, 12.2396, 3.9011, 4.79180667, 2.84736, 7.76653333, 4.632, 3.386, 10.3562, 10.7316, 12.14313333, 3.05725714, 8.836, 4.65088, 7.58168, 4.14679905]
    
    Y_day1_pm25_pred_xgboost = [7.1034913, 7.848458, 5.991752, 5.4947248, 4.7517133, 3.8783097, 3.8604732, 3.5188808, 3.0797825, 3.5826602, 5.886508, 4.481119, 4.147929, 3.8067164, 3.8298175, 4.2239895, 4.836, 5.3552303]
    Y_day1_pm10_pred_xgboost = [9.352692, 12.668023, 12.120275, 8.5140505, 7.6472745, 6.133692, 6.4205017, 4.7452817, 4.7120724, 6.3773513, 14.465195, 9.811093, 8.043576, 6.675679, 6.675679, 6.8679495, 7.4028645, 7.933125]
    
    Y_day1_pm25_pred_neural = [2.9861991620622574, 3.2529232353102997, 2.833568714222929, 2.8951732306872144, 4.2029388009927064, 5.39739141318787, 2.380998434219509, 2.6273996528369024, 2.254084828532359, 2.30471825144632, 3.376097410859802, 4.6820790976642455, 4.077285380335525, 4.313544887387252, 3.9740960280541913, 4.013168234181649, 4.871020436858089, 6.272368616530002]
    Y_day1_pm10_pred_neural = [3.280379967344925, 3.354354615195189, 2.862904220458586, 3.0770178710110487, 5.809402132278774, 24.518235314509365, 3.495281555550173, 3.489517645596061, 3.1096659194794487, 3.2839341510320086, 4.942886079347227, 23.526252885034772, 9.001313446415589, 8.987462423194666, 8.630725143861492, 8.784392232866958, 10.070438171422575, 28.418920774629804]
    
    Y_day1_pm25_real_purifier = [3.6, 2.7, 2.1, 2.0, 3.4, 1.4, 2.4, 2.0, 1.9, 1.6, 2.9, 5.8, 4.0, 2.7, 2.6, 2.9, 3.4, 3.1]
    Y_day1_pm10_real_purifier = [4.4, 3.8, 4.9, 2.6, 8.8, 1.6, 3.1, 3.6, 2.3, 1.7, 9.2, 10.2, 8.6, 5.0, 3.4, 3.9, 4.5, 3.7]


    # day 2
    Y_day2_pm25_pred_linear = [6.99779842, 6.8600974, 6.72239639, 6.58469537, 6.44699436, 6.30929334, 6.15038296, 6.01449705, 5.87861114, 5.74272523, 5.60683931, 5.4709534, 5.33378578, 5.19817217, 5.06255856, 4.92694495, 4.79133134, 4.65571774]
    Y_day2_pm10_pred_linear = [10.34120426, 10.20726497, 10.07332569, 9.9393864, 9.80544712, 9.6715078, 9.5104224,  9.37874502, 9.24706763, 9.11539024, 8.98371285, 8.85203546, 8.74334873, 8.61319288, 8.48303704, 8.35288119, 8.22272535, 8.0925695]
    
    Y_day2_pm25_pred_nonlinear = [4.8144, 6.0666, 4.5636, 9.1516, 2.3268, 2.69512, 1.79058, 5.06116, 1.91950667, 2.63, 4.41763333, 4.80486667, 5.9688, 2.00416667, 4.10338667, 2.55148381, 5.33557778, 2.92067286]
    Y_day2_pm10_pred_nonlinear = [7.9884, 9.98766667, 9.71, 12.1204, 3.8004, 4.89423333, 2.95744, 7.34545238, 4.43523333, 3.2712, 10.95812, 10.1196, 12.979, 3.1015, 7.77879333, 4.56956333, 7.11956444, 4.19956745]
    
    Y_day2_pm25_pred_xgboost = [7.2182436, 7.975764, 6.2945237, 5.5242014, 4.775362, 3.9038806, 3.370165, 3.0427558, 3.0427558, 3.53001, 5.792881, 4.5473194, 4.134843, 3.7832344, 3.800364, 4.1716905, 4.7858286, 5.2527733]
    Y_day2_pm10_pred_xgboost = [9.512809, 12.824872, 12.301364, 8.58495, 7.7226086, 6.175265, 5.534, 4.6709156, 4.6244106, 6.295763, 14.075347, 9.655915, 8.03818, 6.591613, 6.591613, 6.7810187, 7.303623, 7.7938514]
    
    Y_day2_pm25_pred_neural = [2.5892248516902328, 2.889826251579507, 2.4128410788616748, 2.4847557217944996, 4.054938334727922, 5.118677819369623, 2.796317005780293, 3.386169384433015, 2.5112652069321486, 2.725867218071653, 5.857263833785692, 5.8768431945129125, 2.695370784663828, 3.236617465330346, 2.4196690762779327, 2.619203544514312, 5.51161800617192, 5.730525927281269]
    Y_day2_pm10_pred_neural = [3.180379967344925, 3.2543546151951888, 2.7629042204585854, 2.977017871011048, 5.709402132278774, 24.418235314509367, 4.8488859558245165, 5.413546690030489, 4.306912569340784, 4.79760740948841, 12.060359597450589, 28.591634089371656, 3.4488859558245166, 4.0135466900304895, 2.9069125693407845, 3.39760740948841, 10.660359597450588, 27.191634089371654]
    
    Y_day2_pm25_real_purifier = [2.6, 4.0, 3.9, 4.7, 4.2, 3.7, 2.4, 3.9, 7.7, 3.4, 27.2, 3.8, 2.6, 2.0, 2.4, 2.7, 2.5, 3.4]
    Y_day2_pm10_real_purifier = [3.1, 7.8, 6.9, 5.8, 5.7, 5.3, 3.9, 8.6, 14.5, 6.9, 83.4, 8.8, 3.9, 3.0, 3.7, 3.3, 3.5, 3.8]
    
    
    # day 3
    Y_day3_pm25_pred_linear = [6.79894119, 6.6669243, 6.53490741, 6.40289052, 6.27087363, 6.13885673, 5.98140418, 5.85166067, 5.72191716, 5.59217365, 5.46243014, 5.33268664, 5.1956882, 5.06602627, 4.93636434, 4.8067024, 4.67704047, 4.54737854]
    Y_day3_pm10_pred_linear = [10.05279973, 9.92535354, 9.79790736, 9.67046118, 9.543015, 9.41556881, 9.24847379, 9.12457559, 9.00067739, 8.87677918, 8.75288098, 8.62898278, 8.49588673, 8.37239347, 8.24890021, 8.12540696, 8.0019137, 7.87842045]
    
    Y_day3_pm25_pred_nonlinear = [5.0844, 6.03346667, 4.5548, 8.6056, 2.2756, 2.55793333, 1.72882762, 5.02219, 1.92937333, 2.556, 4.42283333, 4.79046667, 5.87573333, 1.9053, 4.12512, 2.44630381, 5.29205333, 2.93727651]
    Y_day3_pm10_pred_nonlinear = [7.8856, 9.74427429, 9.5904, 12.0124, 3.9184, 5.57814, 2.86716889, 7.47311143, 4.28666667, 3.171, 11.61482667, 10.33836667, 12.8846, 3.03794286, 7.42032667, 4.2594581, 7.02677714, 4.08657841]
    
    Y_day3_pm25_pred_xgboost = [6.9881535, 7.7023273, 5.840645, 5.3938494, 4.7039685, 3.8122482, 3.2821496, 3.0222178, 3.0222178, 3.4844248, 6.0045433, 4.447092, 4.004608, 3.685241, 3.7008796, 4.034871, 4.640937, 5.0711703]
    Y_day3_pm10_pred_xgboost = [9.201234, 12.403847, 12.273071, 8.361192, 7.6512585, 6.010355, 5.374178, 4.659411, 4.659411, 6.1496143, 14.869055, 9.41091, 7.74273, 6.378452, 6.378452, 6.5928884, 7.0863795, 7.444259 ]
    
    Y_day3_pm25_pred_neural = [1.790256951516494, 2.1330234810840922, 1.5897927115103814, 1.68914009930013, 3.520697838196793, 4.445109260304162, 3.2902569515164943, 3.6330234810840922, 3.0897927115103814, 3.18914009930013, 5.020697838196793, 5.945109260304162, 5.2488977394998075, 5.5075127866250115, 5.245332743939071, 5.2564422300449225, 5.439443888760434, 7.037868411432282]
    Y_day3_pm10_pred_neural = [3.4549034120049327, 3.7022324350313283, 3.00665718727978, 3.293433965276927, 7.487284040695522, 25.89971274199197, 4.454903412004933, 4.702232435031329, 4.00665718727978, 4.293433965276927, 8.487284040695522, 26.89971274199197, 7.456236062198878, 7.496903063298669, 7.181711659219582, 7.288072952511721, 7.621741934365128, 23.866671540460082]
    
    Y_day3_pm25_real_purifier = [1.6, 1.5, 2.0, 2.9, 4.1, 3.6, 3.3, 3.3, 3.4, 3.2, 3.5, 8.9, 5.9, 4.4, 2.7, 2.7, 2.7, 2.8]
    Y_day3_pm10_real_purifier = [1.9, 1.6, 2.2, 3.2, 7.2, 5.2, 4.3, 4.0, 4.6, 4.3, 5.1, 17.0, 9.8, 6.9, 5.8, 6.6, 5.9, 4.2]
    
    plot_purifier('PM_{2,5}', Y_day1_pm25_pred_linear, Y_day1_pm25_pred_nonlinear, Y_day1_pm25_pred_xgboost, Y_day1_pm25_pred_neural, Y_day1_pm25_real_purifier, 'day1_purifier_pm25.png')
    plot_purifier('PM_{10}', Y_day1_pm10_pred_linear, Y_day1_pm10_pred_nonlinear, Y_day1_pm10_pred_xgboost, Y_day1_pm10_pred_neural, Y_day1_pm10_real_purifier, 'day1_purifier_pm10.png')
    
    plot_purifier('PM_{2,5}', Y_day2_pm25_pred_linear, Y_day2_pm25_pred_nonlinear, Y_day2_pm25_pred_xgboost, Y_day2_pm25_pred_neural, Y_day2_pm25_real_purifier, 'day2_purifier_pm25.png')
    plot_purifier('PM_{10}', Y_day2_pm10_pred_linear, Y_day2_pm10_pred_nonlinear, Y_day2_pm10_pred_xgboost, Y_day2_pm10_pred_neural, Y_day2_pm10_real_purifier, 'day2_purifier_pm10.png')
    
    plot_purifier('PM_{2,5}', Y_day3_pm25_pred_linear, Y_day3_pm25_pred_nonlinear, Y_day3_pm25_pred_xgboost, Y_day3_pm25_pred_neural, Y_day3_pm25_real_purifier, 'day3_purifier_pm25.png')
    plot_purifier('PM_{10}', Y_day3_pm10_pred_linear, Y_day3_pm10_pred_nonlinear, Y_day3_pm10_pred_xgboost, Y_day3_pm10_pred_neural, Y_day3_pm10_real_purifier, 'day3_purifier_pm10.png')
